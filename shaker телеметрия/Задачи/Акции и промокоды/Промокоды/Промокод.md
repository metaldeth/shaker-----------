
# Задача от [[Рома]]
1. Нужно будет создать страницу заведения промокодов (большая форма. Желательно одноэтапная, поделенная на секции по смыслу)
2. Процесс сохранения формы и ее полей в пресеты, применение существующих пресетов.
3. Просмотр существующих заведенных промокодов, их статус применения, сколько осталось применений (возможно вынести подробную Информацию в модальное окно)
4. Должна быть функция копирования промокодов из существующих (из списка) в саму форму для частичного редактирования и создания нового из измененных данных 
---
---
# Требования к функционалу
1. Промокоды только внутри организации
2. Видеть список промокодов
3. Сроки действия
4. Расписание
5. Количественное ограничение на использование
6. Принадлежность к набору автоматов
7. Принадлежность к списку продуктов ===(пока что без отработки рецепта)===
8. Создание промокода
9. ===???Редактироване промокода???===
10. Дублирование прокода и внесение правок (создание промокода из уже существующего с небольшими правками)
11. Удаление промокода (тут скорее архивирование)
12. Фильтрация по актуальным промокодам и другие фильтрации
13. Сортировки 
14. Поиск по промокодам


## Страницы и дейтсвия

1. Отображение списка промокодов
2. Отображение детальной информации о промокоде
3. Создание промокода
4. Дублирование прокода и внесение правок (создание промокода из уже существующего с небольшими правками)
5.  Удаление промокода (тут скорее архивирование)
## Сущность промокода
### Базовая настройка схема
1. id промокода
	1. id
2. Текст промокода
	1. promoText: string;
	2. Текст самого промокода (сам промокод)
3. id организации
	1. organizationId: number;
	2. Какая организация завела промокод
4. id модели автомата
	1. modelId: number;
	2. id самого автомата
5. id автомата
	1. machineId: number;
	2. id модели автомата
6. id группы автомата
	1. machineGroupId: number;
	2. id группы автоматов
7. id торговой точки
	1. pointIds: number;
	2. Торговая точка
### Целевой продукт/товар схема
1. id бренда
	1. brandId: number;
	2. id бренда
2. id линейки продуктов
	1. productLineId: number;
	2. id линейки продукта
3. id продукта(из базы ингредиентов)
	1. productId: number;
	2. id продукта(из базы ингредиентов)
4. id вида спортивного питания
	1. sportPitId
	2. id вида спортивного питания
		1. 1. БЦА
		2. Протеин
		3. L-carnetin
		4. Изотоник
### Настройка расписания схема
1. Дни недели, по которым промокод действует
	1. weekday_list
	2. В какие дни мы можем использовать (Будни, выходные, только по вторникам и четвергам и тп.
2. Время на каждый день недели, когда промокод действует
	1.  timeRange
	2. Диапазон по времени когда можно применять промокод. В теории их может быть несколько
	3. ==Опционально можно писать время на каждый день недели==
### Скидка схема
1. Вариант
	1. Процент
	2. Сумма
	3. Бесплатный
2. Количество (рубли / проценты)
### Настройка количества схема
1. Флаг бесконечного промокода
	1. isCount: boolean;
	2. бесконечное количество, ===но не время===
2. Количество при создании
	1. created_count: number;
	2. С каким счетчиком был создан промокод
3. Оставшееся количество
	1. count: number;
	2. Оставшееся количество использований промокода
### Настройка срока действия схема
1. Флаг бесконечного промокода
	1. isTime: boolean
	2.  бесконечное время, ===но не количество===
2. Дата истечения
	1. expired_date
	2. /Дата истечения его возможности применения
3. Дата начала сроке действия (возможен отложенный старт)
	1. started_at
	2. Дана начала использования промокода 

---
---
# Страницы для промокода
---
## Список промокодов
### Наполнение страницы
#### Шапка таблицы
##### Поиск
1. Поиск выполняется по тексту промокода
##### Фильтрация
###### Фильтр 1
###### Фильтр 2
##### Кнопки действия
#### Таблица

---
## Создание промокода
### Смысловые блоки формы
#### Базовая настройка
##### Поля базовой настройки
1. Текст промокода + генерация
2. Выбор организации
3. Выбор модели автомата
4. Выбор автомата/автоматов из списка
5. Выбор группы/групп из списка
6. Выбор торговой точки/точек из списка
---
#### Целевой продукт/товар
##### Поля целевого продукта/товара
1. Выбор бренда/брендов из списка
2. Выбор линейки/линеек из списка
3. Выбор продукта/продуктов из списка
4. Выбор вида/видов спортивного питания из списка
---
#### Настройка расписания
##### Поля расписания
1. Тип настройки времени
	1. Настроить на каждый день
		1. Дни недели
			1. Настройка времени на этот день недели
	2. Настроить на всю неделю
		1. Выбор дней недели
		2. Настройка времени на все выбранные дни недели
---
#### Скидка
##### Поля скидки
1. Тип скидки
	1. Процент
		1. Количество процентов скидки
	2. Сумма
		1. Количество денег скидки (рублей)
	3. Бесплатный
		1. Нет настройки количества

---
#### Настройка количества
##### Поля количества
1. Бесконечное/не бесконечное
	1. Бесконечное
		1. Нет больше настроек
	2. Не бесконечное
		1. Количество использований промокода
---
#### Настройка срока действия
##### Поля срока действия
1. Бессрочный / ограниченный по времени
	1. Бессрочный
		1. Нет больше настроек
	2. Ограниченный по времени
		1. Начать с текущего/отложенного времени
			1. Текущее
				1. Нет больше настроек
			2. Отложенное
				1. Настройка времени старта промокода
		2. Закончить
			1. Время окончания промокода

---
---
## Информация о промокоде
---
## Пресеты промокода
---
## Удаление промокода
---
# Страницы для пресетов промокодов
## Список пресетов промокодов
## Создание премета промокода
## Изменения пресета промокода
## Информация о пресете промокода
## Удаление пресета промокода